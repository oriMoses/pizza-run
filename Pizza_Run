import sys
import keyboard

#Constants
STREET = 0
STREET_NUMBER = 1

def init_suburbs():
    global querters
    rows, cols = (6, 5)
    querters["Suburbs"] = [[0 for i in range(cols)] for j in range(rows)]

def startGame():
    global playerChoice
    print("Welcome to pizza run!\nA pen and paper is advised.")

    while playerChoice != "start" and playerChoice != "yes":
        print("start?")
        playerChoice = input("> ")

def get_current_street_number():
    global playerPosition

    if playerPosition[STREET_NUMBER] == 0:
        return "I"
    elif playerPosition[STREET_NUMBER] == 1:
        return "II"
    elif playerPosition[STREET_NUMBER] == 2:
        return "III"
    elif playerPosition[STREET_NUMBER] == 3:
        return "IV"
    elif playerPosition[STREET_NUMBER] == 4:
        return "V"

def get_current_street_name():
    global playerPosition

    if playerPosition[STREET] == 0:
        return "Bush St. "
    elif playerPosition[STREET] == 1:
        return "Love St. "
    elif playerPosition[STREET] == 2:
        return "Freedom St. "
    elif playerPosition[STREET] == 3:
        return "First St. "
    elif playerPosition[STREET] == 4:
        return "Tree St. "
    elif playerPosition[STREET] == 5:
        return "Duck St. "

def print_address():
    address = get_current_street_name()
    address += get_current_street_number()
    print("\n" + address + "\n")
    
def checkSouthDirection():
    print(playerPosition[STREET])
    print("laaa")

def commonChoices():
    if "inventory" in playerChoice:
        print(inventory)
        #TODO: print inventory
        return True
    elif "help" in playerChoice:
        print("Help yourself Geez.")
        return True
    
    if "bike" in playerChoice:
        if "get down" in playerChoice or "leave" in playerChoice or "get off" in playerChoice:
            #TODO: chekBikeAvailability
            return True
        elif "climb" in playerChoice or "ride" in playerChoice or "get on" in playerChoice:
            #TODO: chekBikeAvailability
            return True
        
    elif "read" in playerChoice and "note" in playerChoice:
        print("You got 4 hours and 100 pizzas to deliver! Make sure you serve them hot! Now, get busy (the note is sticky, for some reason)")

    else:
        return False

def three_three_position():
    global keyPickedUp, inventory, playerPosition
    while True:
        playerChoice = input("> ").lower()

        if "pick" in playerChoice and "key" in playerChoice or keyPickedUp:
            inventory.append("pizzaHub key")
            print("Key added to your inventory")
            keyPickedUp = True
            break# instead of break send to other point
        
        elif commonChoices:
            pass
        else:
            print("pardon me?")

        if "go" in playerChoice:
            if "south" in playerChoice:
                playerPosition = [4, 3]
                four_three_position()
            elif "north" in playerChoice:
                playerPosition = [2, 3]
                two_three_position()
            elif "west" in playerChoice:
                playerPosition = [3, 4]
                three_four_position()
            elif "east" in playerChoice:
                playerPosition = [3, 2]
                three_two_position() 

def four_three_position():
    while True:
        print("in four three")
def two_three_position():
    while True:
        pass
def three_four_position():
    while True:
        if inventory["pizzaHubKey"]:
            pass
        else:
            print("The door is locked (as doors should be)")
        pass
def three_two_position():
    while True:
        pass


def main():
    global querters, playerPosition, playerChoice, keyPickedUp, inventory

    Suburbs = [0],[0]
    querters = {"Suburbs": Suburbs} #, "Skyscrapers", "Shakedown", "Hood", "Square"]
    keyPickedUp = False
    inventory = []

    init_suburbs()

    playerChoice = ""
    playerPosition = [3, 3]
    
    startGame()

    print_address()


    print("you are in the main pizza.\nIt's your basic pizza place, the floor is sticky and the cook is probably 16.\nYou know the place.\nThere's a locked door to the west.\nthere's a key on the floor, a massive pile of hot pizza and a note on the counter")    
    three_three_position()

if __name__ == '__main__':
    sys.exit(main())